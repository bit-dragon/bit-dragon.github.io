{"version":3,"file":"component---src-pages-globe-js-836f8fadbc577ed53f85.js","mappings":"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","sources":["webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://gatsby-starter-default/./node_modules/three.js/shim.js","webpack://gatsby-starter-default/./src/components/layout.js","webpack://gatsby-starter-default/./src/lib/globe-groups.js","webpack://gatsby-starter-default/./src/lib/animation.helpers.js","webpack://gatsby-starter-default/./src/lib/controls/OrbitControls.js","webpack://gatsby-starter-default/./src/lib/camera.js","webpack://gatsby-starter-default/./src/lib/Globe.js","webpack://gatsby-starter-default/./src/pages/globe.js"],"sourcesContent":["function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","var THREE = require('three');\r\n\r\nconsole.warn( \"WARNING: The 'three.js' npm package is deprecated in favor of the 'three' npm package, please upgrade.\");\r\n\r\nif (typeof exports !== 'undefined') {\r\n  if (typeof module !== 'undefined' && module.exports) {\r\n    exports = module.exports = THREE;\r\n  }\r\n  exports.THREE = THREE;\r\n} else {\r\n  this['THREE'] = THREE;\r\n}\r\n","/**\n * Layout component that queries for data\n * with Gatsby's useStaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nimport \"./layout.css\"\n\nconst Layout = ({ children }) => {\n  const data = useStaticQuery(graphql`\n    query SiteTitleQuery {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `)\n  console.log(\"data\", data)\n  const currentDate = new Date()\n  const currentYear = currentDate.getFullYear()\n\n  return (\n    <>\n      <div className=\"container is-fluid\">\n        <main>{children}</main>\n        <div className=\"hero-foot\">\n          <div className=\"\">\n            <p>bit-dragon - {currentYear}</p>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","export class GlobeGroups {\n    globeRadius = 200;\n    globeSegments = 64;\n    globeWidth = 4098 / 2;\n    globeHeight = 1968 / 2;\n    groups = {};\n\n    add(id, threeInstanceObject, name) {\n        this.groups[id] = threeInstanceObject;\n        this.groups[id].name = name;\n\n        return this.groups[id];\n    }\n\n    getGroup(id) {\n        return this.groups[id];\n    }\n\n    get radius() {\n        return this.globeRadius;\n    }\n\n    get segments() {\n        return this.globeSegments;\n    }\n\n    get width() {\n        return this.globeWidth;\n    }\n\n    get height() {\n        return this.globeHeight;\n    }\n}\n","import * as THREE from 'three.js';\n\nexport class Helper {\n    globeRadius = null;\n    globeWidth = null;\n    globeHeight = null;\n\n    constructor(camera, globeRadius, globeWidth, globeHeight) {\n        this.globeRadius = globeRadius;\n        this.globeWidth = globeWidth;\n        this.globeHeight = globeHeight;\n        this.camera = camera;\n        console.log('helper', this);\n    }\n\n    convertLatLngToSphereCoords(latitude, longitude) {\n        const phi = (latitude * Math.PI) / 180;\n        const theta = ((longitude - 180) * Math.PI) / 180;\n        const x = -(this.globeRadius + -1) * Math.cos(phi) * Math.cos(theta);\n        const y = (this.globeRadius + -1) * Math.sin(phi);\n        const z = (this.globeRadius + -1) * Math.cos(phi) * Math.sin(theta);\n        return new THREE.Vector3(x, y, z);\n    }\n\n    convertFlatCoordsToSphereCoords(x, y) {\n        // Calculate the relative 3d coordinates using Mercator projection relative to the radius of the globe.\n        // Convert latitude and longitude on the 90/180 degree axis.\n        let latitude = ((x - this.globeWidth) / this.globeWidth) * -180;\n        let longitude = ((y - this.globeHeight) / this.globeHeight) * -90;\n        latitude = (latitude * Math.PI) / 180; //(latitude / 180) * Math.PI\n        longitude = (longitude * Math.PI) / 180; //(longitude / 180) * Math.PI // Calculate the projected starting point\n        const radius = Math.cos(longitude) * this.globeRadius;\n        const targetX = Math.cos(latitude) * radius;\n        const targetY = Math.sin(longitude) * this.globeRadius;\n        const targetZ = Math.sin(latitude) * radius;\n        return {\n            x: targetX,\n            y: targetY,\n            z: targetZ,\n        };\n    }\n\n    convertLatLngToFlatCoords(latitude, longitude) {\n        // Reference: https://stackoverflow.com/questions/7019101/convert-pixel-location-to-latitude-longitude-vise-versa\n        const x = Math.round((longitude + 180) * (this.globeWidth / 360)) * 2;\n        const y = Math.round((-1 * latitude + 90) * (this.globeHeight / 180)) * 2;\n        return { x, y }\n    }\n\n    // Returns a 2d position based off of the canvas width and height to position popups on the globe.\n    getProjectedPosition(\n        width,\n        height,\n        position,\n        contentWidth,\n        contentHeight\n    ) {\n        position = position.clone();\n        var projected = position.project(this.camera.object);\n        return {\n            x: projected.x * width + width - contentWidth / 2,\n            y: -(projected.y * height) + height - contentHeight - 10, // -10 for a small offset\n        };\n    }\n\n    // Returns an object of the azimuthal and polar angles of a given a points x,y coord on the globe\n    returnCameraAngles(x, y) {\n        let targetAzimuthalAngle = ((x - this.globeWidth) / this.globeWidth) * Math.PI;\n        targetAzimuthalAngle = targetAzimuthalAngle + Math.PI / 2;\n        targetAzimuthalAngle += 0.3; // Add a small horizontal offset\n        let targetPolarAngle = (y / (this.globeHeight * 2)) * Math.PI;\n        targetPolarAngle += 0.1; // Add a small vertical offset\n        return {\n            azimuthal: targetAzimuthalAngle,\n            polar: targetPolarAngle,\n        };\n    }\n\n    getRandomNumberBetween(min, max) {\n        return Math.floor(Math.random() * (max - min + 1) + min);\n    }\n}\n\nexport const easeInOutCubic = (t) => {\n    return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n};\n","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n * @author ScieCode / http://github.com/sciecode\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nexport const OrbitControl = (THREE) => {\n    THREE.OrbitControls = function(object, domElement) {\n        this.object = object;\n\n        this.domElement = domElement !== undefined ? domElement : document;\n\n        // Set to false to disable this control\n        this.enabled = true;\n\n        // \"target\" sets the location of focus, where the object orbits around\n        this.target = new THREE.Vector3();\n\n        // How far you can dolly in and out ( PerspectiveCamera only )\n        this.minDistance = 0;\n        this.maxDistance = Infinity;\n\n        // How far you can zoom in and out ( OrthographicCamera only )\n        this.minZoom = 0\n        this.maxZoom = Infinity;\n\n        // How far you can orbit vertically, upper and lower limits.\n        // Range is 0 to Math.PI radians.\n        this.minPolarAngle = 0; // radians\n        this.maxPolarAngle = Math.PI; // radians\n\n        // How far you can orbit horizontally, upper and lower limits.\n        // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n        this.minAzimuthAngle = -Infinity; // radians\n        this.maxAzimuthAngle = Infinity; // radians\n\n        // Set to true to enable damping (inertia)\n        // If damping is enabled, you must call controls.update() in your animation loop\n        this.enableDamping = false;\n        this.dampingFactor = 0.25;\n\n        // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n        // Set to false to disable zooming\n        this.enableZoom = true;\n        this.zoomSpeed = 1.0;\n\n        // Set to false to disable rotating\n        this.enableRotate = true;\n        this.rotateSpeed = 1.0;\n\n        // Set to false to disable panning\n        this.enablePan = true;\n        this.panSpeed = 1.0;\n        this.screenSpacePanning = false; // if true, pan in screen-space\n        this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n        // Set to true to automatically rotate around the target\n        // If auto-rotate is enabled, you must call controls.update() in your animation loop\n        this.autoRotate = false;\n        this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n        // Set to false to disable use of the keys\n        this.enableKeys = true;\n\n        // The four arrow keys\n        this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n        // Mouse buttons\n        this.mouseButtons = {\n            LEFT: THREE.MOUSE.LEFT,\n            MIDDLE: THREE.MOUSE.MIDDLE,\n            RIGHT: THREE.MOUSE.RIGHT,\n        };\n\n        // for reset\n        this.target0 = this.target.clone();\n        this.position0 = this.object.position.clone();\n        this.zoom0 = this.object.zoom;\n\n        //\n        // public methods\n        //\n\n        this.getPolarAngle = function() {\n            return spherical.phi\n        };\n\n        this.getAzimuthalAngle = function() {\n            return spherical.theta\n        };\n\n        this.setPolarAngle = function(angle) {\n            spherical.phi = angle\n            this.forceUpdate()\n        };\n\n        this.setAzimuthalAngle = function(angle) {\n            spherical.theta = angle\n            this.forceUpdate();\n        };\n\n        this.saveState = function() {\n            scope.target0.copy(scope.target);\n            scope.position0.copy(scope.object.position);\n            scope.zoom0 = scope.object.zoom;\n        }\n\n        this.reset = function() {\n            scope.target.copy(scope.target0);\n            scope.object.position.copy(scope.position0);\n            scope.object.zoom = scope.zoom0;\n\n            scope.object.updateProjectionMatrix();\n            scope.dispatchEvent(changeEvent);\n\n            scope.update();\n\n            state = STATE.NONE;\n        }\n\n        this.forceUpdate = (function() {\n            var offset = new THREE.Vector3()\n\n            // so camera.up is the orbit axis\n            var quat = new THREE.Quaternion().setFromUnitVectors(\n                object.up,\n                new THREE.Vector3(0, 1, 0)\n            )\n            var quatInverse = quat.clone().inverse()\n\n            var lastPosition = new THREE.Vector3()\n            var lastQuaternion = new THREE.Quaternion()\n\n            return function() {\n                var position = this.object.position\n\n                offset.copy(position).sub(this.target)\n\n                // rotate offset to \"y-axis-is-up\" space\n                offset.applyQuaternion(quat)\n\n                // restrict spherical.theta to be between desired limits\n                spherical.theta = Math.max(\n                    this.minAzimuthAngle,\n                    Math.min(this.maxAzimuthAngle, spherical.theta)\n                )\n\n                // restrict spherical.phi to be between desired limits\n                spherical.phi = Math.max(\n                    this.minPolarAngle,\n                    Math.min(this.maxPolarAngle, spherical.phi)\n                )\n\n                // restrict spherical.phi to be betwee EPS and PI-EPS\n                spherical.phi = Math.max(EPS, Math.min(Math.PI - EPS, spherical.phi))\n\n                var radius = offset.length() * scale\n\n                // restrict radius to be between desired limits\n                radius = Math.max(this.minDistance, Math.min(this.maxDistance, radius))\n\n                // move target to panned location\n                this.target.add(panOffset)\n\n                offset.x = radius * Math.sin(spherical.phi) * Math.sin(spherical.theta)\n                offset.y = radius * Math.cos(spherical.phi)\n                offset.z = radius * Math.sin(spherical.phi) * Math.cos(spherical.theta)\n\n                // rotate offset back to \"camera-up-vector-is-up\" space\n                offset.applyQuaternion(quatInverse)\n\n                position.copy(this.target).add(offset)\n\n                this.object.lookAt(this.target)\n\n                if (this.enableDamping === true) {\n                    spherical.thetaDelta *= 1 - this.dampingFactor\n                    spherical.phiDelta *= 1 - this.dampingFactor\n                } else {\n                    spherical.thetaDelta = 0\n                    spherical.phiDelta = 0\n                }\n\n                scale = 1\n                panOffset.set(0, 0, 0)\n\n                // update condition is:\n                // min(camera displacement, camera rotation in radians)^2 > EPS\n                // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n                if (\n                    zoomChanged ||\n                        lastPosition.distanceToSquared(this.object.position) > EPS ||\n                        8 * (1 - lastQuaternion.dot(this.object.quaternion)) > EPS\n                ) {\n                    lastPosition.copy(this.object.position)\n                    lastQuaternion.copy(this.object.quaternion)\n                    zoomChanged = false\n\n                    return true\n                }\n\n                return false\n            }\n        })()\n\n        // this method is exposed, but perhaps it would be better if we can make it private...\n        this.update = (function() {\n            var offset = new THREE.Vector3()\n\n            // so camera.up is the orbit axis\n            var quat = new THREE.Quaternion().setFromUnitVectors(\n                object.up,\n                new THREE.Vector3(0, 1, 0)\n            )\n            var quatInverse = quat.clone().inverse()\n\n            var lastPosition = new THREE.Vector3()\n            var lastQuaternion = new THREE.Quaternion()\n\n            return function update() {\n                var position = scope.object.position\n\n                offset.copy(position).sub(scope.target)\n\n                // rotate offset to \"y-axis-is-up\" space\n                offset.applyQuaternion(quat)\n\n                // angle from z-axis around y-axis\n                spherical.setFromVector3(offset)\n\n                if (scope.autoRotate && state === STATE.NONE) {\n                    rotateLeft(getAutoRotationAngle())\n                }\n\n                spherical.theta += sphericalDelta.theta\n                spherical.phi += sphericalDelta.phi\n\n                // restrict theta to be between desired limits\n                spherical.theta = Math.max(\n                    scope.minAzimuthAngle,\n                    Math.min(scope.maxAzimuthAngle, spherical.theta)\n                )\n\n                // restrict phi to be between desired limits\n                spherical.phi = Math.max(\n                    scope.minPolarAngle,\n                    Math.min(scope.maxPolarAngle, spherical.phi)\n                )\n\n                spherical.makeSafe()\n\n                spherical.radius *= scale\n\n                // restrict radius to be between desired limits\n                spherical.radius = Math.max(\n                    scope.minDistance,\n                    Math.min(scope.maxDistance, spherical.radius)\n                )\n\n                // move target to panned location\n                scope.target.add(panOffset)\n\n                offset.setFromSpherical(spherical)\n\n                // rotate offset back to \"camera-up-vector-is-up\" space\n                offset.applyQuaternion(quatInverse)\n\n                position.copy(scope.target).add(offset)\n\n                scope.object.lookAt(scope.target)\n\n                if (scope.enableDamping === true) {\n                    sphericalDelta.theta *= 1 - scope.dampingFactor\n                    sphericalDelta.phi *= 1 - scope.dampingFactor\n\n                    panOffset.multiplyScalar(1 - scope.dampingFactor)\n                } else {\n                    sphericalDelta.set(0, 0, 0)\n\n                    panOffset.set(0, 0, 0)\n                }\n\n                scale = 1\n\n                // update condition is:\n                // min(camera displacement, camera rotation in radians)^2 > EPS\n                // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n                if (\n                    zoomChanged ||\n                        lastPosition.distanceToSquared(scope.object.position) > EPS ||\n                        8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS\n                ) {\n                    scope.dispatchEvent(changeEvent)\n\n                    lastPosition.copy(scope.object.position)\n                    lastQuaternion.copy(scope.object.quaternion)\n                    zoomChanged = false\n\n                    return true\n                }\n\n                return false\n            }\n        })()\n\n        this.dispose = function() {\n            scope.domElement.removeEventListener('contextmenu', onContextMenu, false)\n            scope.domElement.removeEventListener('mousedown', onMouseDown, false)\n            scope.domElement.removeEventListener('wheel', onMouseWheel, false)\n\n            scope.domElement.removeEventListener('touchstart', onTouchStart, false)\n            scope.domElement.removeEventListener('touchend', onTouchEnd, false)\n            scope.domElement.removeEventListener('touchmove', onTouchMove, false)\n\n            document.removeEventListener('mousemove', onMouseMove, false)\n            document.removeEventListener('mouseup', onMouseUp, false)\n\n            window.removeEventListener('keydown', onKeyDown, false)\n\n            //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n        }\n\n        //\n        // internals\n        //\n\n        var scope = this\n\n        var changeEvent = { type: 'change' }\n        var startEvent = { type: 'start' }\n        var endEvent = { type: 'end' }\n\n        var STATE = {\n            NONE: -1,\n            ROTATE: 0,\n            DOLLY: 1,\n            PAN: 2,\n            TOUCH_ROTATE: 3,\n            TOUCH_DOLLY_PAN: 4,\n        }\n\n        var state = STATE.NONE\n\n        var EPS = 0.000001\n\n        // current position in spherical coordinates\n        var spherical = new THREE.Spherical()\n        var sphericalDelta = new THREE.Spherical()\n\n        var scale = 1\n        var panOffset = new THREE.Vector3()\n        var zoomChanged = false\n\n        var rotateStart = new THREE.Vector2()\n        var rotateEnd = new THREE.Vector2()\n        var rotateDelta = new THREE.Vector2()\n\n        var panStart = new THREE.Vector2()\n        var panEnd = new THREE.Vector2()\n        var panDelta = new THREE.Vector2()\n\n        var dollyStart = new THREE.Vector2()\n        var dollyEnd = new THREE.Vector2()\n        var dollyDelta = new THREE.Vector2()\n\n        function getAutoRotationAngle() {\n            return ((2 * Math.PI) / 60 / 60) * scope.autoRotateSpeed\n        }\n\n        function getZoomScale() {\n            return Math.pow(0.95, scope.zoomSpeed)\n        }\n\n        function rotateLeft(angle) {\n            sphericalDelta.theta -= angle\n        }\n\n        function rotateUp(angle) {\n            sphericalDelta.phi -= angle\n        }\n\n        var panLeft = (function() {\n            var v = new THREE.Vector3()\n\n            return function panLeft(distance, objectMatrix) {\n                v.setFromMatrixColumn(objectMatrix, 0) // get X column of objectMatrix\n                v.multiplyScalar(-distance)\n\n                panOffset.add(v)\n            }\n        })()\n\n        var panUp = (function() {\n            var v = new THREE.Vector3()\n\n            return function panUp(distance, objectMatrix) {\n                if (scope.screenSpacePanning === true) {\n                    v.setFromMatrixColumn(objectMatrix, 1)\n                } else {\n                    v.setFromMatrixColumn(objectMatrix, 0)\n                    v.crossVectors(scope.object.up, v)\n                }\n\n                v.multiplyScalar(distance)\n\n                panOffset.add(v)\n            }\n        })()\n\n        // deltaX and deltaY are in pixels; right and down are positive\n        var pan = (function() {\n            var offset = new THREE.Vector3()\n\n            return function pan(deltaX, deltaY) {\n                var element =\n                    scope.domElement === document ? scope.domElement.body : scope.domElement\n\n                if (scope.object.isPerspectiveCamera) {\n                    // perspective\n                    var position = scope.object.position\n                    offset.copy(position).sub(scope.target)\n                    var targetDistance = offset.length()\n\n                    // half of the fov is center to top of screen\n                    targetDistance *= Math.tan(((scope.object.fov / 2) * Math.PI) / 180.0)\n\n                    // we use only clientHeight here so aspect ratio does not distort speed\n                    panLeft(\n                        (2 * deltaX * targetDistance) / element.clientHeight,\n                        scope.object.matrix\n                    )\n                    panUp(\n                        (2 * deltaY * targetDistance) / element.clientHeight,\n                        scope.object.matrix\n                    )\n                } else if (scope.object.isOrthographicCamera) {\n                    // orthographic\n                    panLeft(\n                        (deltaX * (scope.object.right - scope.object.left)) /\n                            scope.object.zoom /\n                            element.clientWidth,\n                        scope.object.matrix\n                    )\n                    panUp(\n                        (deltaY * (scope.object.top - scope.object.bottom)) /\n                            scope.object.zoom /\n                            element.clientHeight,\n                        scope.object.matrix\n                    )\n                } else {\n                    // camera neither orthographic nor perspective\n                    console.warn(\n                        'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.'\n                    )\n                    scope.enablePan = false\n                }\n            }\n        })()\n\n        function dollyIn(dollyScale) {\n            if (scope.object.isPerspectiveCamera) {\n                scale /= dollyScale\n            } else if (scope.object.isOrthographicCamera) {\n                scope.object.zoom = Math.max(\n                    scope.minZoom,\n                    Math.min(scope.maxZoom, scope.object.zoom * dollyScale)\n                )\n                scope.object.updateProjectionMatrix()\n                zoomChanged = true\n            } else {\n                console.warn(\n                    'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.'\n                )\n                scope.enableZoom = false\n            }\n        }\n\n        function dollyOut(dollyScale) {\n            if (scope.object.isPerspectiveCamera) {\n                scale *= dollyScale\n            } else if (scope.object.isOrthographicCamera) {\n                scope.object.zoom = Math.max(\n                    scope.minZoom,\n                    Math.min(scope.maxZoom, scope.object.zoom / dollyScale)\n                )\n                scope.object.updateProjectionMatrix()\n                zoomChanged = true\n            } else {\n                console.warn(\n                    'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.'\n                )\n                scope.enableZoom = false\n            }\n        }\n\n        //\n        // event callbacks - update the object state\n        //\n\n        function handleMouseDownRotate(event) {\n            //console.log( 'handleMouseDownRotate' );\n\n            rotateStart.set(event.clientX, event.clientY)\n        }\n\n        function handleMouseDownDolly(event) {\n            //console.log( 'handleMouseDownDolly' );\n\n            dollyStart.set(event.clientX, event.clientY)\n        }\n\n        function handleMouseDownPan(event) {\n            //console.log( 'handleMouseDownPan' );\n\n            panStart.set(event.clientX, event.clientY)\n        }\n\n        function handleMouseMoveRotate(event) {\n            //console.log( 'handleMouseMoveRotate' );\n\n            rotateEnd.set(event.clientX, event.clientY)\n\n            rotateDelta\n                .subVectors(rotateEnd, rotateStart)\n                .multiplyScalar(scope.rotateSpeed)\n\n            var element =\n                scope.domElement === document ? scope.domElement.body : scope.domElement\n\n            rotateLeft((2 * Math.PI * rotateDelta.x) / element.clientHeight) // yes, height\n\n            rotateUp((2 * Math.PI * rotateDelta.y) / element.clientHeight)\n\n            rotateStart.copy(rotateEnd)\n\n            scope.update()\n        }\n\n        function handleMouseMoveDolly(event) {\n            //console.log( 'handleMouseMoveDolly' );\n\n            dollyEnd.set(event.clientX, event.clientY)\n\n            dollyDelta.subVectors(dollyEnd, dollyStart)\n\n            if (dollyDelta.y > 0) {\n                dollyIn(getZoomScale())\n            } else if (dollyDelta.y < 0) {\n                dollyOut(getZoomScale())\n            }\n\n            dollyStart.copy(dollyEnd)\n\n            scope.update()\n        }\n\n        function handleMouseMovePan(event) {\n            //console.log( 'handleMouseMovePan' );\n\n            panEnd.set(event.clientX, event.clientY)\n\n            panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed)\n\n            pan(panDelta.x, panDelta.y)\n\n            panStart.copy(panEnd)\n\n            scope.update()\n        }\n\n        function handleMouseUp(event) {\n            // console.log( 'handleMouseUp' );\n        }\n\n        function handleMouseWheel(event) {\n            // console.log( 'handleMouseWheel' );\n\n            if (event.deltaY < 0) {\n                dollyOut(getZoomScale())\n            } else if (event.deltaY > 0) {\n                dollyIn(getZoomScale())\n            }\n\n            scope.update()\n        }\n\n        function handleKeyDown(event) {\n            //console.log( 'handleKeyDown' );\n\n            switch (event.keyCode) {\n            case scope.keys.UP:\n                pan(0, scope.keyPanSpeed)\n                scope.update()\n                break\n\n            case scope.keys.BOTTOM:\n                pan(0, -scope.keyPanSpeed)\n                scope.update()\n                break\n\n            case scope.keys.LEFT:\n                pan(scope.keyPanSpeed, 0)\n                scope.update()\n                break\n\n            case scope.keys.RIGHT:\n                pan(-scope.keyPanSpeed, 0)\n                scope.update()\n                break\n            }\n        }\n\n        function handleTouchStartRotate(event) {\n            //console.log( 'handleTouchStartRotate' );\n\n            rotateStart.set(event.touches[0].pageX, event.touches[0].pageY)\n        }\n\n        function handleTouchStartDollyPan(event) {\n            //console.log( 'handleTouchStartDollyPan' );\n\n            if (scope.enableZoom) {\n                var dx = event.touches[0].pageX - event.touches[1].pageX\n                var dy = event.touches[0].pageY - event.touches[1].pageY\n\n                var distance = Math.sqrt(dx * dx + dy * dy)\n\n                dollyStart.set(0, distance)\n            }\n\n            if (scope.enablePan) {\n                var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX)\n                var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY)\n\n                panStart.set(x, y)\n            }\n        }\n\n        function handleTouchMoveRotate(event) {\n            //console.log( 'handleTouchMoveRotate' );\n\n            rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY)\n\n            rotateDelta\n                .subVectors(rotateEnd, rotateStart)\n                .multiplyScalar(scope.rotateSpeed)\n\n            var element =\n                scope.domElement === document ? scope.domElement.body : scope.domElement\n\n            rotateLeft((2 * Math.PI * rotateDelta.x) / element.clientHeight) // yes, height\n\n            rotateUp((2 * Math.PI * rotateDelta.y) / element.clientHeight)\n\n            rotateStart.copy(rotateEnd)\n\n            scope.update()\n        }\n\n        function handleTouchMoveDollyPan(event) {\n            //console.log( 'handleTouchMoveDollyPan' );\n\n            if (scope.enableZoom) {\n                var dx = event.touches[0].pageX - event.touches[1].pageX\n                var dy = event.touches[0].pageY - event.touches[1].pageY\n\n                var distance = Math.sqrt(dx * dx + dy * dy)\n\n                dollyEnd.set(0, distance)\n\n                dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed))\n\n                dollyIn(dollyDelta.y)\n\n                dollyStart.copy(dollyEnd)\n            }\n\n            if (scope.enablePan) {\n                var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX)\n                var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY)\n\n                panEnd.set(x, y)\n\n                panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed)\n\n                pan(panDelta.x, panDelta.y)\n\n                panStart.copy(panEnd)\n            }\n\n            scope.update()\n        }\n\n        function handleTouchEnd(event) {\n            //console.log( 'handleTouchEnd' );\n        }\n\n        //\n        // event handlers - FSM: listen for events and reset state\n        //\n\n        function onMouseDown(event) {\n            if (scope.enabled === false) return\n\n            event.preventDefault()\n\n            switch (event.button) {\n            case scope.mouseButtons.LEFT:\n                if (event.ctrlKey || event.metaKey) {\n                    if (scope.enablePan === false) return\n\n                    handleMouseDownPan(event)\n\n                    state = STATE.PAN\n                } else {\n                    if (scope.enableRotate === false) return\n\n                    handleMouseDownRotate(event)\n\n                    state = STATE.ROTATE\n                }\n\n                break\n\n            case scope.mouseButtons.MIDDLE:\n                if (scope.enableZoom === false) return\n\n                handleMouseDownDolly(event)\n\n                state = STATE.DOLLY\n\n                break\n\n            case scope.mouseButtons.RIGHT:\n                if (scope.enablePan === false) return\n\n                handleMouseDownPan(event)\n\n                state = STATE.PAN\n\n                break\n            }\n\n            if (state !== STATE.NONE) {\n                document.addEventListener('mousemove', onMouseMove, false)\n                document.addEventListener('mouseup', onMouseUp, false)\n\n                scope.dispatchEvent(startEvent)\n            }\n        }\n\n        function onMouseMove(event) {\n            if (scope.enabled === false) return\n\n            event.preventDefault()\n\n            switch (state) {\n            case STATE.ROTATE:\n                if (scope.enableRotate === false) return\n\n                handleMouseMoveRotate(event)\n\n                break\n\n            case STATE.DOLLY:\n                if (scope.enableZoom === false) return\n\n                handleMouseMoveDolly(event)\n\n                break\n\n            case STATE.PAN:\n                if (scope.enablePan === false) return\n\n                handleMouseMovePan(event)\n\n                break\n            }\n        }\n\n        function onMouseUp(event) {\n            if (scope.enabled === false) return\n\n            handleMouseUp(event)\n\n            document.removeEventListener('mousemove', onMouseMove, false)\n            document.removeEventListener('mouseup', onMouseUp, false)\n\n            scope.dispatchEvent(endEvent)\n\n            state = STATE.NONE\n        }\n\n        function onMouseWheel(event) {\n            if (\n                scope.enabled === false ||\n                    scope.enableZoom === false ||\n                    (state !== STATE.NONE && state !== STATE.ROTATE)\n            )\n                return\n\n            event.preventDefault()\n            event.stopPropagation()\n\n            scope.dispatchEvent(startEvent)\n\n            handleMouseWheel(event)\n\n            scope.dispatchEvent(endEvent)\n        }\n\n        function onKeyDown(event) {\n            if (\n                scope.enabled === false ||\n                    scope.enableKeys === false ||\n                    scope.enablePan === false\n            )\n                return\n\n            handleKeyDown(event)\n        }\n\n        function onTouchStart(event) {\n            if (scope.enabled === false) return\n\n            event.preventDefault()\n\n            switch (event.touches.length) {\n            case 1: // one-fingered touch: rotate\n                if (scope.enableRotate === false) return\n\n                handleTouchStartRotate(event)\n\n                state = STATE.TOUCH_ROTATE\n\n                break\n\n            case 2: // two-fingered touch: dolly-pan\n                if (scope.enableZoom === false && scope.enablePan === false) return\n\n                handleTouchStartDollyPan(event)\n\n                state = STATE.TOUCH_DOLLY_PAN\n\n                break\n\n            default:\n                state = STATE.NONE\n            }\n\n            if (state !== STATE.NONE) {\n                scope.dispatchEvent(startEvent)\n            }\n        }\n\n        function onTouchMove(event) {\n            if (scope.enabled === false) return\n\n            event.preventDefault()\n            event.stopPropagation()\n\n            switch (event.touches.length) {\n            case 1: // one-fingered touch: rotate\n                if (scope.enableRotate === false) return\n                if (state !== STATE.TOUCH_ROTATE) return // is this needed?\n\n                handleTouchMoveRotate(event)\n\n                break\n\n            case 2: // two-fingered touch: dolly-pan\n                if (scope.enableZoom === false && scope.enablePan === false) return\n                if (state !== STATE.TOUCH_DOLLY_PAN) return // is this needed?\n\n                handleTouchMoveDollyPan(event)\n\n                break\n\n            default:\n                state = STATE.NONE\n            }\n        }\n\n        function onTouchEnd(event) {\n            if (scope.enabled === false) return;\n\n            handleTouchEnd(event);\n\n            scope.dispatchEvent(endEvent);\n\n            state = STATE.NONE;\n        }\n\n        function onContextMenu(event) {\n            if (scope.enabled === false) return;\n\n            event.preventDefault();\n        }\n\n        //\n\n        scope.domElement.addEventListener('contextmenu', onContextMenu, false);\n\n        scope.domElement.addEventListener('mousedown', onMouseDown, false);\n        scope.domElement.addEventListener('wheel', onMouseWheel, false);\n\n        scope.domElement.addEventListener('touchstart', onTouchStart, false);\n        scope.domElement.addEventListener('touchend', onTouchEnd, false);\n        scope.domElement.addEventListener('touchmove', onTouchMove, false);\n\n        window.addEventListener('keydown', onKeyDown, false);\n\n        this.update();\n    };\n\n    THREE.OrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype);\n    THREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\n\n    Object.defineProperties(THREE.OrbitControls.prototype, {\n        center: {\n            get: function() {\n                console.warn('THREE.OrbitControls: .center has been renamed to .target');\n                return this.target;\n            },\n        },\n\n        // backward compatibility\n\n        noZoom: {\n            get: function() {\n                console.warn(\n                    'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.'\n                );\n                return !this.enableZoom;\n            },\n\n            set: function(value) {\n                console.warn(\n                    'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.'\n                );\n                this.enableZoom = !value;\n            },\n        },\n\n        noRotate: {\n            get: function() {\n                console.warn(\n                    'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.'\n                );\n                return !this.enableRotate;\n            },\n\n            set: function(value) {\n                console.warn(\n                    'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.'\n                );\n                this.enableRotate = !value;\n            },\n        },\n\n        noPan: {\n            get: function() {\n                console.warn(\n                    'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.'\n                );\n                return !this.enablePan;\n            },\n\n            set: function(value) {\n                console.warn(\n                    'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.'\n                );\n                this.enablePan = !value;\n            },\n        },\n\n        noKeys: {\n            get: function() {\n                console.warn(\n                    'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.'\n                );\n                return !this.enableKeys;\n            },\n\n            set: function(value) {\n                console.warn(\n                    'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.'\n                );\n                this.enableKeys = !value;\n            },\n        },\n\n        staticMoving: {\n            get: function() {\n                console.warn(\n                    'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.'\n                );\n                return !this.enableDamping;\n            },\n\n            set: function(value) {\n                console.warn(\n                    'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.'\n                );\n                this.enableDamping = !value;\n            },\n        },\n\n        dynamicDampingFactor: {\n            get: function() {\n                console.warn(\n                    'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.'\n                );\n                return this.dampingFactor;\n            },\n\n            set: function(value) {\n                console.warn(\n                    'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.'\n                );\n                this.dampingFactor = value;\n            },\n        },\n    });\n\n};\n","import * as THREE from 'three.js';\nimport { OrbitControl } from './controls/OrbitControls';\nimport {easeInOutCubic} from './animation.helpers';\n\nOrbitControl(THREE);\n\nexport class Camera {\n    camera = {\n        object: null,\n        orbitControls: null,\n        angles: {\n            current: {\n                azimuthal: null,\n                polar: null,\n            },\n            target: {\n                azimuthal: null,\n                polar: null,\n            },\n        },\n        transition: {\n            current: 0,\n            target: 30,\n        },\n    }\n\n    canvasEl = null;\n\n    constructor(canvasEl) {\n        this.canvasEl = canvasEl;\n    }\n\n    setupOrbitControllers() {\n        this.camera.orbitControls = new THREE.OrbitControls(this.camera.object, this.canvasEl);\n        this.camera.orbitControls.enableKeys = false;\n        this.camera.orbitControls.enablePan = false;\n        this.camera.orbitControls.enableZoom = false;\n        this.camera.orbitControls.enableDamping = false;\n        this.camera.orbitControls.enableRotate = false;\n        this.camera.object.position.z = -550;\n        this.camera.orbitControls.update();\n    }\n\n    updatePosition(azimuthal, polar) {\n        return new Promise((resolve) => {\n            this._updateAngles(azimuthal, polar);\n            this._animateNextLocation(resolve);\n            this.camera.orbitControls.update();\n        });\n    }\n\n    _updateAngles(azimuthal, polar) {\n        this.camera.angles.current.azimuthal = this.camera.orbitControls.getAzimuthalAngle();\n        this.camera.angles.current.polar = this.camera.orbitControls.getPolarAngle();\n        this.camera.angles.target.azimuthal = azimuthal;\n        this.camera.angles.target.polar = polar;\n    }\n\n    _animateNextLocation(resolve) {\n        const { current, target } = this.camera.transition;\n        if (current <= target) {\n            const progress = easeInOutCubic(current / target);\n            const {\n                current: { azimuthal: currentAzimuthal, polar: currentPolar },\n                target: { azimuthal: targetAzimuthal, polar: targetPolar },\n            } = this.camera.angles;\n\n            const azimuthalProgressDelta = (currentAzimuthal - targetAzimuthal) * progress;\n            const azimuthalDifference = currentAzimuthal - azimuthalProgressDelta;\n            this.camera.orbitControls.setAzimuthalAngle(azimuthalDifference);\n\n            const polarProgressDelta = (currentPolar - targetPolar) * progress;\n            const polarDifference = currentPolar - polarProgressDelta;\n            this.camera.orbitControls.setPolarAngle(polarDifference);\n\n            this.camera.transition.current++;\n        } else {\n            resolve();\n            this.camera.transition.current = 0;\n        } \n    }\n\n    get instance() {\n        return this.camera;\n    }\n\n    set object(threeCamaraInstance) {\n        this.camera.object = threeCamaraInstance;\n    }\n\n    get object() {\n        return this.camera.object;\n    }\n\n    set positionZ (position) {\n        if (this.camera.object) {\n            this.camera.object.position.z = position;\n        }\n    }\n}\n","import * as THREE from 'three.js';\nimport { GlobeGroups } from './globe-groups';\nimport { Camera } from './camera.js';\nimport data from './points.json';\nimport {Helper} from './animation.helpers';\n\nexport class Globe {\n    scene = null;\n    camera = null;\n    renderer = null;\n    containerEl = null;\n    canvasEl = null;\n    camera = null;\n    width = 1440;\n    height = 803;\n    scene = null;\n    globeGroups = null\n    helper = null;\n    globeRadius = 200;\n    globeWidth = 4098/2;\n    globeHeight = 1968/2;\n\n    shouldAnimate = false;\n    currentGeo = null;\n\n    constructor({containerEl, canvasEl, width, height}) {\n        // elements\n        this.width = width;\n        this.height = height;\n        this.containerEl = containerEl;\n        this.canvasEl = canvasEl;\n\n        // Init threejs basic objects\n        // This elements should be also part of the main module and inject\n        // when is required\n        this.camera = new Camera(canvasEl);\n        this.scene = new THREE.Scene();\n        this.camera.object = new THREE.PerspectiveCamera(45, this.width / this.height, 1, 4000);\n\n        this.camera.positionZ = 30000;\n\n        this.helper = new Helper(this.camera.object, this.globeRadius, this.globeWidth, this.globeHeight);\n\n        // Probably render could be something that we can reuse in a different leyers\n        // render should be a shared module accross different clases that implement\n        // any animation\n        this.renderer = new THREE.WebGLRenderer({\n            canvas: canvasEl,\n            antialias: true,\n            opacity: .8\n        });\n        this.renderer.setSize(this.width, this.height);\n\n        this._setupGlobe();\n        this.camera.setupOrbitControllers();\n        this._render();\n    }\n\n    _setupGlobe() {\n        this.globeGroups = new GlobeGroups();\n\n        const canvasSize = 128;\n        const textureCanvas = document.createElement('canvas');\n        textureCanvas.width = canvasSize;\n        textureCanvas.height = canvasSize;\n\n        const canvasContext = textureCanvas.getContext('2d');\n        canvasContext.rect(0, 0, canvasSize, canvasSize);\n        const texture = new THREE.Texture(textureCanvas);\n\n        const geometry = new THREE.SphereGeometry(\n            this.globeGroups.radius,\n            this.globeGroups.segments,\n            this.globeGroups.segments,\n        );\n        const material = new THREE.MeshBasicMaterial({\n            map: texture,\n            transparent: false,\n            opacity: 1,\n        });\n        const mesh = new THREE.Mesh(geometry, material);\n        const globe = this.globeGroups.add('globe', mesh, 'Globe');\n\n        this.scene.add(globe);\n\n        this._addPoints();\n    }\n\n    _addPoints() {\n        const mergedGeometry = new THREE.Geometry();\n        // The geometry that will contain all of our points.\n        const pingGeometry = new THREE.SphereGeometry(0.5, 5, 5);\n        // The material that our ping will be created from.\n        // const material = new THREE.MeshBasicMaterial({color: '#626177'});\n        const material = new THREE.MeshBasicMaterial({color: '#f0575d'});\n\n        for (let point of data.points) {\n            // Transform our latitude and longitude values to points on the sphere.\n            const pos = this.helper.convertFlatCoordsToSphereCoords(point.x, point.y);\n\n            if (pos.x && pos.y && pos.z) {\n                // Position ping item.\n                pingGeometry.translate(pos.x, pos.y, pos.z);\n                // Merge ping item onto our mergedGeometry object.\n                mergedGeometry.merge(pingGeometry);\n                // Reset ping item position.\n                pingGeometry.translate(-pos.x, -pos.y, -pos.z);\n            }\n        }\n\n        // We end up with 1 mesh to add to the scene rather than our (n) number of points.\n        const total = new THREE.Mesh(mergedGeometry, material);\n        const globePoints = this.globeGroups.add('globePoints', total, 'Globe Points');\n\n        this.scene.add(globePoints);\n    }\n\n    _animate() {\n        // verify if has to be animated and\n        // then call the orbitControls update method\n        if (this.shouldAnimate) {\n            const {x, y} = this.helper.convertLatLngToFlatCoords(this.currentGeo.lat, this.currentGeo.lng);\n            const {azimuthal, polar} = this.helper.returnCameraAngles(x, y);\n            this.camera.updatePosition(azimuthal, polar).then(() => {\n                console.log('Moved to', this.currentGeo.name);\n                this.shouldAnimate = false;\n            });\n        }\n    }\n\n    _render = () => {\n        this.renderer.render(this.scene, this.camera.object);\n        requestAnimationFrame(this._render);\n        this._animate();\n    }\n\n    updateFromEntity = ({geo}) => {\n        this.currentGeo = geo;\n        this.shouldAnimate = true;\n    }\n}\n","import React, {useEffect, useState, useRef} from \"react\";\nimport Layout from \"../components/layout\";\nimport SEO from \"../components/seo\";\nimport {Globe} from '../lib/Globe.js';\n\n// This could be delivered by an endpoint\n// we can keep the geo structure and thing about the information that we need to hook to this\nconst users = [\n    {\n        id: 0,\n        name: 'John Yang',\n        geo: {\n            lat: 31.2304,\n            lng: 121.4737,\n            name: 'Shanghai, CN',\n        },\n        date: '01.23.2018',\n    },\n    {\n        id: 1,\n        name: 'Emma S.',\n        geo: {\n            lat: 55.6761,\n            lng: 12.5683,\n            name: 'Denmark, CPH',\n        },\n        date: '09.20.2018',\n    },\n    {\n        id: 2,\n        name: 'Spencer S.',\n        geo: {\n            lat: 34.0522,\n            lng: -118.2437,\n            name: 'Los Angeles, CA',\n        },\n        date: '12.25.2018',\n    },\n    {\n        id: 3,\n        name: 'Guadalajara HQ',\n        geo: {\n            lat: 20.659698,\n            lng: -103.349609,\n            name: 'Guadalajara',\n        },\n        date: '12.25.2018',\n    }\n];\n\nconst IndexPage = () => {\n    const animationAreaEl = useRef(null);\n    const canvasRef = useRef(null);\n    const [globeInstance, setGlobeInstance] = useState(null);\n    const [dimensions, setDimensions] = useState(null);\n    const [userIndex, setUserIndex] = useState(0);\n    const [currentUser, setUser] = useState(users[0]);\n\n    useEffect(() => {\n        if (globeInstance) {\n            setTimeout(() => {\n                const nextIndex = userIndex < users.length - 1 ? (userIndex + 1) : 0;\n                const nextUser = users[nextIndex];\n\n                setUserIndex(nextIndex);\n                setUser(nextUser);\n            }, 5000);\n        }\n    }, [globeInstance, currentUser]);\n\n    useEffect(() => {\n        if (!dimensions) {\n            setDimensions({\n                height: window.innerHeight,\n                width: window.innerWidth,\n            });\n        }\n    }, [dimensions]);\n\n    useEffect(() => {\n        if (dimensions && !globeInstance) {\n            const globeInstancePre = new Globe({\n                containerEl: animationAreaEl.current,\n                canvasEl: canvasRef.current,\n                ...dimensions,\n            });\n            globeInstancePre.updateFromEntity(currentUser);\n            setGlobeInstance(globeInstancePre);\n        }\n    }, [globeInstance, dimensions]);\n\n    useEffect(() => {\n        if (globeInstance) {\n            globeInstance.updateFromEntity(currentUser);\n        }\n    }, [globeInstance, currentUser]);\n\n    return (\n        <>\n          <SEO title=\"Animation\" />\n          <div className=\"globe\" ref={animationAreaEl}>\n            <canvas ref={canvasRef}></canvas>\n          </div>\n        </>\n    );\n};\n\nexport default IndexPage;\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperties","length","enumerable","configurable","writable","Object","defineProperty","key","_createClass","THREE","console","warn","module","exports","_ref","children","data","useStaticQuery","log","currentYear","Date","getFullYear","React","className","GlobeGroups","globeRadius","globeSegments","globeWidth","globeHeight","groups","_proto","add","id","threeInstanceObject","name","this","getGroup","get","Helper","camera","convertLatLngToSphereCoords","latitude","longitude","phi","Math","PI","theta","x","cos","y","sin","z","convertFlatCoordsToSphereCoords","radius","convertLatLngToFlatCoords","round","getProjectedPosition","width","height","position","contentWidth","contentHeight","projected","clone","project","object","returnCameraAngles","targetAzimuthalAngle","targetPolarAngle","azimuthal","polar","getRandomNumberBetween","min","max","floor","random","OrbitControls","domElement","offset","quat","quatInverse","lastPosition","lastQuaternion","undefined","document","enabled","target","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","MIDDLE","target0","position0","zoom0","zoom","getPolarAngle","spherical","getAzimuthalAngle","setPolarAngle","angle","forceUpdate","setAzimuthalAngle","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","STATE","NONE","Quaternion","setFromUnitVectors","up","inverse","sub","applyQuaternion","EPS","scale","panOffset","lookAt","thetaDelta","phiDelta","set","zoomChanged","distanceToSquared","dot","quaternion","setFromVector3","rotateLeft","sphericalDelta","makeSafe","setFromSpherical","multiplyScalar","dispose","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","window","onKeyDown","type","startEvent","endEvent","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_DOLLY_PAN","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","rotateUp","v","panLeft","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","body","isPerspectiveCamera","targetDistance","tan","fov","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","dollyIn","dollyScale","dollyOut","handleMouseDownPan","event","clientX","clientY","preventDefault","button","ctrlKey","metaKey","handleMouseDownRotate","handleMouseDownDolly","addEventListener","subVectors","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","stopPropagation","handleMouseWheel","keyCode","handleKeyDown","touches","pageX","pageY","handleTouchStartRotate","dx","dy","sqrt","handleTouchStartDollyPan","handleTouchMoveRotate","handleTouchMoveDollyPan","create","EventDispatcher","defineProperties","center","noZoom","value","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","Camera","canvasEl","orbitControls","angles","current","transition","setupOrbitControllers","updatePosition","Promise","resolve","_updateAngles","_animateNextLocation","progress","currentAzimuthal","currentPolar","targetAzimuthal","targetPolar","azimuthalDifference","polarDifference","threeCamaraInstance","Globe","containerEl","scene","renderer","globeGroups","helper","shouldAnimate","currentGeo","_render","render","requestAnimationFrame","_animate","updateFromEntity","_ref2","geo","positionZ","canvas","antialias","opacity","setSize","_setupGlobe","canvasSize","textureCanvas","createElement","getContext","rect","texture","geometry","segments","material","map","transparent","mesh","globe","_addPoints","mergedGeometry","pingGeometry","color","point","pos","translate","merge","total","globePoints","lat","lng","then","users","date","IndexPage","animationAreaEl","useRef","canvasRef","globeInstance","setGlobeInstance","useState","dimensions","setDimensions","userIndex","setUserIndex","currentUser","setUser","useEffect","setTimeout","nextIndex","nextUser","innerHeight","innerWidth","globeInstancePre","assign","SEO","title","ref"],"sourceRoot":""}